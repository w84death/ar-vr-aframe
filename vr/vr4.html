<html>
  <head>
    <title>A-Frame Super Hands Component - 6DOF With Physics</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    
  </head>
  <body>
        <a-scene  physics webxr="requiredFeatures: viewer;"
        loading-screen="dotsColor: white; backgroundColor: black"
        renderer="maxCanvasWidth: 960; maxCanvasHeight: 960; antialias: true; colorManagement: true; sortObjects: true; highRefreshRate: true; physicallyCorrectLights: true;" 
        shadow="type:pcfsoft">

      <a-assets>
        <img id="sky" src="assets/skybox-space.jpg">
        <img id="moon" src="assets/moon.jpg">
        <a-asset-item id="spacestation" src="scenes/space-station-vr2.glb"></a-asset-item>
        <audio id="noise" src="assets/noise1.mp3" preload="auto"></audio>
        <a-asset-item id="desk" src="scenes/desk.glb"></a-asset-item>
        <a-asset-item id="mug" src="scenes/mug.glb"></a-asset-item>
        
        <a-mixin id="cube" geometry="primitive: box; width: 0.13; height: 0.13; depth: 0.13"
                 hoverable grabbable stretchable draggable
                 event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
                 event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                 dynamic-body shadow></a-mixin>
       
        <a-mixin id="touch"
                 physics-collider phase-shift
                 collision-filter="collisionForces: false"
                 static-body="shape: sphere; sphereRadius: 0.02"
                 super-hands="colliderEvent: collisions;
                              colliderEventProperty: els;
                              colliderEndEvent: collisions;
                              colliderEndEventProperty: clearedEls;">
        </a-mixin>
      </a-assets>

      <!-- ---------------------- CAMERA ----------------------  -->
      <a-entity>
        <a-camera position="0 1.6 0" wasd-controls="enabled:false"></a-camera>
        <a-entity id="rhand" mixin="touch" hand-controls="hand: right"></a-entity>
        <a-entity id="lhand" mixin="touch" hand-controls="hand: left"></a-entity>
        </a-entity>


        
        <!-- ---------------------- ENVIRONMENT ----------------------  -->
        <a-sky src="#sky"></a-sky>
        <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
        <a-sphere src="#moon" radius="150" position="180 52 -400"></a-sphere>
        <a-gltf-model src="#spacestation" shadow="cast:true;">
            <a-entity light="type: point; intensity: 4; castShadow:true;" position="0 2.741 0"></a-entity>
            <a-entity light="type: point; intensity: 4; castShadow:false;" position="-7 3.630 -8.735"></a-entity>
            <a-entity light="type: point; intensity: 4; castShadow:false;" position="7 3.630 -8.735"></a-entity>
            <a-gltf-model src="#desk" static-body></a-gltf-model>
        </a-gltf-model>
        
        <!-- ---------------------- SOUNDS ----------------------  -->
        <a-entity sound="src: #noise; autoplay: true; loop:true;"></a-entity>


        <a-entity position="-13.520 3.927 0.894" rotation="0 90 0">
            <a-text value="Personal Home Page 2022 VR" font="assets/0xA000-Squareish-Bold-msdf.json" negate="false" color="#3f3" align="left"  position="0 0 0" width="7"></a-text>
            <a-text value="Krzysztof\nKrystian\nJankowski" font="assets/0xA000-Squareish-Bold-msdf.json" negate="false" color="#3f3" align="left" position="0 -1.1 0" width="15"></a-text>
        </a-entity>
            
        <a-entity class="cube" mixin="cube" position="0 1.265 -0.7" material="color: red"></a-entity>
        <a-entity class="cube" mixin="cube" position="0 1.265 -0.5" material="color: red"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.2 1.265 -0.7" material="color: blue"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.2 1.265 -0.5" material="color: blue"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.2 1.265 -0.7" material="color: green"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.2 1.265 -0.5" material="color: green"></a-entity>
      
        <a-box static-body width="100" height="0.01" depth="100" visible="false"></a-box>
      
        <a-box position="0.499 1.5 -0.594" rotation="-90 0 0" color="black"
            geometry="primitive: box; width: 0.4; height: 0.3; depth: 0.02"
            hoverable grabbable stretchable draggable
            event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
            event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
            dynamic-body shadow>        
        </a-box>

    </a-scene>

 </body>
</html>
